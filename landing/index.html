<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indie Comments | Widget de Coment√°rios Leve</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="../indie-comments-widget/dist/widget.min.css">
</head>
<body>
    <main class="container">
        <header class="hero">
            <h1>Indie Comments</h1>
            <p class="subtitle">O widget de coment√°rios **leve e autossuficiente** para o seu blog.</p>
            <p>Usando Web Components, oferecemos aninhamento, modera√ß√£o e temas, sem *tracking* ou depend√™ncias pesadas.</p>
            
            <nav>
                <ul>
                    <li><a href="#demo" role="button" class="primary">Ver Demonstra√ß√£o</a></li>
                    <li><a href="#install" role="button" class="secondary">Instalar (2 minutos!)</a></li>
                </ul>
            </nav>
        </header>

        <section id="features" class="grid-section">
            <hgroup>
                <h2>Por que Indie Comments?</h2>
                <h3>Leve, R√°pido e Seu.</h3>
            </hgroup>
            <div class="grid">
                <article>
                    <h5>üöÄ Sem Bloatware</h5>
                    <p>Menos de 10KB de JS minificado. Carregamento quase instant√¢neo, sem prejudicar o seu Lighthouse Score.</p>
                </article>
                <article>
                    <h5>‚öôÔ∏è Back-end Aberto</h5>
                    <p>Use nosso *backend* (NoCodeBackend + FastAPI Proxy) ou plugue sua pr√≥pria API em minutos. Voc√™ tem o controle.</p>
                </article>
                <article>
                    <h5>üíÖ Temas Customiz√°veis</h5>
                    <p>Quatro temas prontos (Dark, Matrix, Neocities) e arquitetura modular para voc√™ criar o seu.</p>
                </article>
            </div>
        </section>

        <section id="install">
            <hgroup>
                <h2>Instala√ß√£o Simples</h2>
                <h3>Adicione duas linhas de c√≥digo. √â tudo.</h3>
            </hgroup>
            
            <p>1. Inclua os arquivos minificados (CSS e JS) no seu HTML:</p>
            <figure>
                <pre><code>&lt;link rel="stylesheet" href="dist/widget.min.css"&gt;
&lt;script src="dist/widget.min.js"&gt;&lt;/script&gt;</code></pre>
            </figure>

            <p>2. Adicione o elemento Web Component onde deseja os coment√°rios:</p>
            <figure>
                <pre><code>&lt;indie-comments-widget 
    thread-id="sua-pagina-unica-id"
    api-base-url="https://seu-proxy.com/api"&gt;
&lt;/indie-comments-widget&gt;</code></pre>
            </figure>
        </section>

        <section id="demo" class="demo-section">
            <hgroup>
                <h2>Teste o Widget</h2>
                <h3>Experimente o Indie Comments em tempo real</h3>
            </hgroup>
            
            <p>Veja abaixo o widget em funcionamento. Para que o widget funcione com um backend real, substitua <code>YOUR_API_BASE_URL</code> com a URL do seu servidor de API.</p>
            
            <div class="widget-container">
                <indie-comments-widget
                    thread-id="landing-page-demo"
                    api-base-url="https://indie-comments-backend-fast-api.vercel.app">
                </indie-comments-widget>
            </div>
        </section>
        
    </main>
    
    <footer class="container">
        <small>Built during the Hackathon with ‚ù§Ô∏è and Pico.css.</small>
    </footer>

    <script src="../indie-comments-widget/dist/widget.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Wait a bit to ensure the widget is properly registered
            setTimeout(() => {
                const widget = document.querySelector('indie-comments-widget');
                if (widget) {
                    // Listen for themeChange event from the widget and update page theme accordingly
                    widget.addEventListener('themeChange', (event) => {
                        const theme = event.detail.theme;
                        // Remove previous theme classes from body
                        document.body.classList.remove('theme-default', 'theme-dark', 'theme-matrix', 'theme-neocities');
                        // Add new theme class to body
                        document.body.classList.add(`theme-${theme}`);
                    });
                } else {
                    console.error('Indie Comments Widget not found on page');
                }
            }, 100); // Small delay to ensure web components are initialized
        });
    </script>

</body>
</html>